type Template @model {
    id: ID!
    name: String!
    isDefault: Boolean!
    statuses: [Status] @connection(keyName: "byTemplate", fields: ["id"])
    elements: [Element] @connection(keyName: "byElement", fields: ["id"])
}

type Status @model @key(name: "byTemplate", fields: ["templateId"]) {
  id: ID!
  templateId: ID!
  template: Template @connection(fields: ["templateId"])
  title: String!
  color: String!
  icon: String!
  order: Int!
}

type Element @model @key(name: "byElement", fields: ["templateId"]) {
  id: ID!
  templateId: ID!
  template: Template @connection(fields: ["templateId"])
  title: String!
  order: Int!
}

type Team @model {
  id: ID!
  name: String!
  members: [Member] @connection(keyName: "byMember", fields: ["id"])
}

type Member @model @key(name: "byMember", fields: ["teamId"]) {
  id: ID!
  teamId: ID!
  team: Team @connection(fields: ["teamId"])
  name: String!
}

type ElementDiscussed @model {
  id: ID!
  element: Element!
  discussion: Discussion!
  text: String!
}

type Discussion @model {
  id: ID!
  title: String!
  priority: String!
  status: Status!
  team: Team!
  template: Template!
  labels: [String]
  owners: [String]
  checklist: [String]
  peopleInvolved: [String]
  dateProposed: String 
  dateProposedGranularity: String 
  createdAt: AWSDateTime!
  updatedAt: AWSDateTime
}

